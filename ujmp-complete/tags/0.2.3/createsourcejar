DIR="/home/arndt/workspace/ujmp-complete"
UJMPVERSION="0.2.3"
UJMPPACKAGES="ujmp-core ujmp-gui ujmp-bpca ujmp-colt ujmp-commonsmath ujmp-hadoop ujmp-itext ujmp-jackcess ujmp-jama ujmp-jdbc ujmp-jexcelapi ujmp-jmathplot ujmp-jmatio ujmp-jmatrices ujmp-jsci ujmp-jscience ujmp-jung ujmp-lsimpute ujmp-lucene ujmp-mail ujmp-mantissa ujmp-mtj ujmp-ojalgo ujmp-parallelcolt ujmp-pdfbox ujmp-sst ujmp-vecmath"

cd $DIR
rm -rf target
mkdir -p target

for p in $UJMPPACKAGES
do
  cp ../$p/target/$p-$UJMPVERSION-sources.jar target/$p-$UJMPVERSION-sources.zip
done

cd target

for p in $UJMPPACKAGES
do
  unzip -o $p-$UJMPVERSION-sources.zip
done

rm -rf *.zip

echo "Main-Class: org.ujmp.gui.UJMP" > META-INF/MF.MF
cat META-INF/MANIFEST.MF >> META-INF/MF.MF
rm -f META-INF/MANIFEST.MF
mv META-INF/MF.MF META-INF/MANIFEST.MF

zip -r ujmp-complete-$UJMPVERSION-sources.jar *
